[test]
# Test file patterns
root = "./test"

# Timeout for individual tests (30 seconds)
timeout = 30000

# Enable coverage reporting
coverage = true

# Coverage thresholds - lower threshold since shared.js contains
# many I/O functions (API calls, file operations) that we don't
# unit test. We focus on testing pure logic functions.
# No thresholds - coverage is informational only to avoid coverage theatre

# Exclude from coverage:
# - Third-party/vendored files
# - I/O-heavy scripts (fetch scripts make API calls, render writes files)
# - Build/script tooling
# - Frontend embed scripts
# - Test files themselves
coveragePathIgnorePatterns = [
  "lib/chobble-template/**",
  "masonry.pkgd.min.js",
  "iframe-resizer.child.js",
  "src/fetch-*.js",
  "src/render-iframes.js",
  "src/build.js",
  "src/scripts/**",
  "src/embed/**",
  "fetch-thumbnails.js",
  "test/**",
]
